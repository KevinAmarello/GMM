"use strict";angular.module("gmmApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.router","restangular","file-model"]).config(["$routeProvider","$stateProvider","$urlRouterProvider","RestangularProvider",function(a,b,c,d){d.setBaseUrl("https://frontend-dot-test-amarello-1.appspot.com"),c.otherwise("/archivo"),b.state("main",{url:"/",views:{"":{templateUrl:"views/content.html"},"header@main":{templateUrl:"views/header.html"},"footer@main":{templateUrl:"views/footer.html"}}}).state("main.archivo",{url:"archivo",views:{"main@main":{templateUrl:"views/menu_principal.html",controller:"MenuCtrl"}}})}]),angular.module("gmmApp").controller("MainCtrl",["$scope","cargaFactory",function(a,b){a.loading=!1,a.makingRequest=!1,a.uploadFile=function(c){a.makingRequest=!0,a.loading=!0;var d=b.cargaInicial("xlf");d.then(function(b){console.log(b),a.$apply(function(){a.loading=!1,a.makingRequest=!1})})}}]),angular.module("gmmApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("gmmApp").factory("cargaFactory",["Restangular","$http",function(a,b){return{cargaInicial:function(b){var c=new FormData;return console.log(document.getElementById(b).files[0]),c.append("file",document.getElementById(b).files[0]),a.one("uploadPBA").withHttpConfig({transformRequest:angular.identity}).customPOST(c,"",void 0,{"Content-Type":void 0})}}}]),angular.module("gmmApp").controller("CambiosCtrl",["$scope","$state",function(a,b){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.changeState=function(a){switch(a){case 1:b.go("main.sumaAsegurada");break;case 2:b.go("main.deducible");break;case 3:b.go("main.coaseguros");case 4:}}}]),angular.module("gmmApp").controller("MenuCtrl",["$scope","$state","cargaFactory",function(a,b,c){a.notificacion=!1,a.send=function(){if(console.log(a.input),a.input){var b=a.verifyExt(a.input);if(b){var d=c.cargaInicial("exampleInputFile");d.then(function(b){console.log(b),a.notificacion=!0},function(a){alert("Algo salió mal, por favor reintente en un momento")})}else alert("Por favor verifique que el archivo sea de extensión .xlsx ó .xls")}else alert("Por favor ingrese un archivo")},a.verifyExt=function(a){var b=new Array(".xlsx",".xls"),c=a.name;return console.log(c),c=c.substring(c.lastIndexOf(".")),b.indexOf(c)<0?!1:!0},a.regresar=function(){a.notificacion=!1}}]),angular.module("gmmApp").controller("AseguradaCtrl",["$scope",function(a){a.cartera=null,a.carteraList=["Cartera Anterior","Cartera Posterior"],a.claveTecnica=[],a.clave={},a.producto=[],a.plan=[],console.log(a.carteraList),a.$watch("cartera",function(b,c){console.log(b),"Cartera Anterior"==b?a.claveTecnica=["G0334GMMIN","G0334GMMII"]:"Cartera Posterior"==b&&(a.claveTecnica=["G0334GMMIN","G0334GMMII","G0334GMINT"])}),a.$watch("clave",function(a,b){})}]),angular.module("gmmApp").directive("customOnChange",function(){return{restrict:"A",link:function(a,b,c){var d=a.$eval(c.customOnChange);b.on("change",d),b.on("$destroy",function(){b.off()})}}}),angular.module("gmmApp").run(["$templateCache",function(a){a.put("views/content.html",'<div class="container"> <div ui-view="header"></div> <div ui-view="main"></div> <div ui-view="footer"></div> </div>'),a.put("views/derechos.html",'<div class="archivo mod"> <a href="archivo.html"><img class="back-arrow" src="img/arrow-back.svg"></a> <img src="img/file.svg"> <h3><b>Archivo 1</b></h3> <p>Modificacion 4</p> <div class="modificaciones"> <div class="ajustes"> <select> <option>opcion 1</option> </select> <select> <option>opcion 2</option> </select> <select> <option>opcion 3</option> </select> <input type="text" name="input" placeholder="Escribe algo"> </div> <div class="btn"> <button>Guardar</button> </div> </div> </div>'),a.put("views/footer.html",'<!-- \n <div class="footer">\n      <div class="container">\n        <p><span class="glyphicon glyphicon-heart"></span> from the Yeoman team</p>\n      </div>\n    </div>\n-->'),a.put("views/header.html",'<div class="container-fluid nopadding"> <div class="row"> <div class="container"> <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9 nav-bar"> <ul> <li><a href="index.html">Descarga de Archivo</a></li> <li><a href="loadc.html" class="active">Carga de Cat&aacute;logos</a></li> <li><a href="loadcc.html">Carga de Cifras de Control</a></li> <li><a href="loadt.html">Carga de Tablas</a></li> </ul> </div> <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3 avatar"> <img src="img/avatar.png" alt=""> <span class="text-avatar">¡Hola Fernanda!</span> </div> </div> </div> </div>'),a.put("views/menu_principal.html",'<div class="container-fluid nopadding"> <div class="row"> <div class="container content"> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 header-box"> <h3>Carga de Archivo de Tablas</h3> </div> <div ng-hide="notificacion"> <div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3 col-xs-12 col-xs-offset-0 input-file"> <div class="form-group"> <label for="exampleInputFile">Seleccione el archivo que desea cargar.</label> <input type="file" id="exampleInputFile" file-model="input"> </div> </div> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"> <div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0 send-btn"> <button type="submit" ng-click="send()"> CARGAR ARCHIVO</button> </div> </div> </div> <div ng-show="notificacion"> <div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3 col-xs-12 col-xs-offset-0 input-file"> <div class="form-group"> <label for="exampleInputFile">El proceso ha iniciado, pronto recibirá una notificación.</label> </div> </div> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"> <div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0 send-btn"> <button type="submit" ng-click="regresar()"> Regresar</button> </div> </div> </div> </div> </div> </div>')}]);