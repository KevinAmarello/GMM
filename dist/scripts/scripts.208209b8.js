"use strict";angular.module("gmmApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.router","restangular","file-model"]).config(["$routeProvider","$stateProvider","$urlRouterProvider","RestangularProvider",function(a,b,c,d){d.setBaseUrl("https://frontend-dot-gnp-auttarifasgmm-qa.appspot.com"),c.otherwise("/archivo"),b.state("main",{url:"/",views:{"":{templateUrl:"views/content.html"},"header@main":{templateUrl:"views/header.html",controller:"HeaderCtrl"},"footer@main":{templateUrl:"views/footer.html"}}}).state("main.archivo",{url:"archivo",views:{"main@main":{templateUrl:"views/menu_principal.html",controller:"MenuCtrl"}}}).state("main.cifras",{url:"cifras",views:{"main@main":{templateUrl:"views/ccontrl.html",controller:"CifrasCtrl"}}}).state("main.catalogos",{url:"catalogos",views:{"main@main":{templateUrl:"views/catalogos.html",controller:"CatalogoCtrl"}}})}]),angular.module("gmmApp").controller("MainCtrl",["$scope","cargaFactory",function(a,b){a.loading=!1,a.makingRequest=!1,a.uploadFile=function(c){a.makingRequest=!0,a.loading=!0;var d=b.cargaInicial("xlf");d.then(function(b){console.log(b),a.$apply(function(){a.loading=!1,a.makingRequest=!1})})}}]),angular.module("gmmApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("gmmApp").factory("cargaFactory",["Restangular","$http",function(a,b){return{cargaInicial:function(b){var c=new FormData;return console.log(document.getElementById(b).files[0]),c.append("file",document.getElementById(b).files[0]),a.one("uploadPBA").withHttpConfig({transformRequest:angular.identity}).customPOST(c,"",void 0,{"Content-Type":void 0})},cargaCifras:function(b){return a.all("uploadCC").withHttpConfig({timeout:6e4}).post(b)}}}]),angular.module("gmmApp").controller("CambiosCtrl",["$scope","$state",function(a,b){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.changeState=function(a){switch(a){case 1:b.go("main.sumaAsegurada");break;case 2:b.go("main.deducible");break;case 3:b.go("main.coaseguros");case 4:}}}]),angular.module("gmmApp").controller("MenuCtrl",["$scope","$state","cargaFactory",function(a,b,c){a.notificacion=!1,a.loading=!1,a.alert=!1,a.mensaje="",a.mensajes=["Algo salió mal, por favor reintente","Por favor verifique que el archivo sea de extensión .xlsx ó .xls","Por favor ingrese un archivo"],a.send=function(){if(a.alert=!1,a.mensaje="",console.log(a.input),a.input){a.loading=!0;var b=a.verifyExt(a.input);if(b){var d=c.cargaInicial("exampleInputFile");d.then(function(b){console.log(b),a.loading=!1,a.notificacion=!0},function(b){a.alert=!0,a.mensaje=a.mensajes[0],a.loading=!1})}else a.alert=!0,a.mensaje=a.mensajes[1],a.loading=!1}else a.alert=!0,a.mensaje=a.mensajes[2],a.loading=!1},a.verifyExt=function(a){var b=new Array(".xlsx",".xls"),c=a.name;return console.log(c),c=c.substring(c.lastIndexOf(".")),b.indexOf(c)<0?!1:!0},a.regresar=function(){a.notificacion=!1},a.$watch("input",function(){a.alert=!1,a.mensaje=""})}]),angular.module("gmmApp").controller("AseguradaCtrl",["$scope",function(a){a.cartera=null,a.carteraList=["Cartera Anterior","Cartera Posterior"],a.claveTecnica=[],a.clave={},a.producto=[],a.plan=[],console.log(a.carteraList),a.$watch("cartera",function(b,c){console.log(b),"Cartera Anterior"==b?a.claveTecnica=["G0334GMMIN","G0334GMMII"]:"Cartera Posterior"==b&&(a.claveTecnica=["G0334GMMIN","G0334GMMII","G0334GMINT"])}),a.$watch("clave",function(a,b){})}]),angular.module("gmmApp").directive("customOnChange",function(){return{restrict:"A",link:function(a,b,c){var d=a.$eval(c.customOnChange);b.on("change",d),b.on("$destroy",function(){b.off()})}}}),angular.module("gmmApp").controller("CifrasCtrl",["$scope","cargaFactory",function(a,b){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.cifras={},a.notificacion=!1,a.loading=!1,a.alert=!1,a.mensaje="",a.mensajes=["Algo salió mal, por favor reintente","Por favor verifique que los datos que ingresó sean valores numéricos","Faltan cifras, por favor verifique"],a.enviar=function(){var c=a.verify(a.cifras);if(c){var d=b.cargaCifras(a.cifras);d.then(function(b){a.loading=!1,a.notificacion=!0},function(b){a.mensaje=a.mensajes[0],a.alert=!0,a.loading=!1})}},a.verify=function(b){a.loading=!0;var c=0,d=0;for(var e in b)b.hasOwnProperty(e)&&b[e].length>0&&(d+=1);if(22==d){for(var f in b)b.hasOwnProperty(f)&&(isNaN(b[f])?c+=1:console.log(b[f]));return c>0?(a.loading=!1,a.mensaje=a.mensajes[1],a.alert=!0,!1):!0}return a.loading=!1,a.mensaje=a.mensajes[2],a.alert=!0,!1},a.regresar=function(){a.notificacion=!1},a.changeMessage=function(){a.alert=!1,a.mesaje=""}}]),angular.module("gmmApp").controller("HeaderCtrl",["$scope","$state",function(a,b){a.goTo=function(a){switch(a){case 1:b.go("main.archivo");break;case 2:b.go("main.cifras");break;case 3:b.go("main.catalogos")}}}]),angular.module("gmmApp").controller("CatalogoCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("gmmApp").run(["$templateCache",function(a){a.put("views/catalogos.html",'<div class="container-fluid nopadding"> <div class="row"> <div class="container content"> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 header-box"> <h3>Carga de Catálogos</h3> </div> <div ng-hide="notificacion"> <div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3 col-xs-12 col-xs-offset-0 input-file"> <div class="form-group"> <label for="exampleInputFile">Seleccione el archivo que desea cargar.</label> <input type="file" id="exampleInputFile" file-model="input"> </div> </div> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"> <div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0 send-btn"> <button type="submit" ng-click="send()"> CARGAR ARCHIVO</button> </div> </div> </div> <div ng-show="notificacion"> <div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3 col-xs-12 col-xs-offset-0 input-file"> <div class="form-group"> <label for="exampleInputFile">El proceso ha iniciado, pronto recibirá una notificación.</label> </div> </div> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"> <div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0 send-btn"> <button type="submit" ng-click="regresar()"> Regresar</button> </div> </div> </div> </div> </div> </div>'),a.put("views/ccontrl.html",'<div class="container-fluid nopadding"> <div class="row"> <div class="container content"> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 header-box"> <h3>Carga de Cifras de Control</h3> </div> <div class="col-lg-6" ng-hide="notificacion"> <div class="container-fluid nopadding"> <div class="row"> <div class="container content"> <div class="col-xs-12 row-input"> <div class="alert alert-danger" ng-show="alert"> <strong>{{mensaje}}</strong> </div> <div class="col-lg-offset-2 col-lg-1"> KTPT8AT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPT8AT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPTDGT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPTDGT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPTDIT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPTDIT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPTDMT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPTDMT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPTBCT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPTBCT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPTCLT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPTCLT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPTAST </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPTAST" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPTDLT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPTDLT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KAPTPAT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KAPTPAT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPT8LT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPT8LT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPTBQT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPTBQT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPTCKT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPTCKT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPT8BT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPT8BT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPTDJT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPTDJT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPTDNT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPTDNT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPTCNT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPTCNT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPTCOT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPTCOT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPTCPT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPTCPT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPTDFT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPTDFT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPT6WT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPT6WT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPTDOT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPTDOT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-input"> <div class="col-lg-offset-2 col-lg-1"> KTPTCQT </div> <div class="col-lg-6 input"> <input type="text" ng-model="cifras.KTPTCQT" ng-focus="changeMessage()"> </div> </div> <div class="col-xs-12 row-submit nopadding"> <div class="col-lg-offset-3 col-lg-6"> <button ng-click="enviar()">Guardar</button> </div> </div> </div> </div> </div> </div> <div ng-show="notificacion"> <div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3 col-xs-12 col-xs-offset-0 input-file"> <div class="form-group"> <label for="exampleInputFile">Proceso Finalizado</label> </div> </div> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"> <div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0 send-btn"> <button type="submit" ng-click="regresar()"> Regresar</button> </div> </div> </div> </div> </div> </div> <div class="loading-wrap" ng-show="loading"> <img src="images/loading.aa305df2.gif" alt=""> </div>'),a.put("views/content.html",'<div class="container"> <div ui-view="header"></div> <div ui-view="main"></div> <div ui-view="footer"></div> </div>'),a.put("views/derechos.html",'<div class="archivo mod"> <a href="archivo.html"><img class="back-arrow" src="img/arrow-back.svg"></a> <img src="img/file.svg"> <h3><b>Archivo 1</b></h3> <p>Modificacion 4</p> <div class="modificaciones"> <div class="ajustes"> <select> <option>opcion 1</option> </select> <select> <option>opcion 2</option> </select> <select> <option>opcion 3</option> </select> <input type="text" name="input" placeholder="Escribe algo"> </div> <div class="btn"> <button>Guardar</button> </div> </div> </div>'),a.put("views/footer.html",'<!-- \n <div class="footer">\n      <div class="container">\n        <p><span class="glyphicon glyphicon-heart"></span> from the Yeoman team</p>\n      </div>\n    </div>\n-->'),a.put("views/header.html",'<div class="container-fluid nopadding"> <div class="row"> <div class="container"> <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9 nav-bar"> <ul> <li><a ng-click="goTo(4)">Descarga de Archivo</a></li> <li><a ng-click="goTo(3)">Carga de Cat&aacute;logos</a></li> <li><a ng-click="goTo(2)">Carga de Cifras de Control</a></li> <li><a ng-click="goTo(1)">Carga de Tablas</a></li> </ul> </div> </div> </div> </div>'),a.put("views/menu_principal.html",'<div class="container-fluid nopadding"> <div class="row"> <div class="container content"> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 header-box"> <h3>Carga de Archivo de Tablas</h3> </div> <div ng-hide="notificacion"> <div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3 col-xs-12 col-xs-offset-0 input-file"> <div class="alert alert-danger" ng-show="alert"> <strong>{{mensaje}}</strong> </div> <div class="form-group"> <label for="exampleInputFile">Seleccione el archivo que desea cargar.</label> <input type="file" id="exampleInputFile" file-model="input"> </div> </div> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"> <div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0 send-btn"> <button type="submit" ng-click="send()"> CARGAR ARCHIVO</button> </div> </div> </div> <div ng-show="notificacion"> <div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3 col-xs-12 col-xs-offset-0 input-file"> <div class="form-group"> <label for="exampleInputFile">El proceso ha iniciado, pronto recibirá una notificación.</label> </div> </div> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"> <div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0 send-btn"> <button type="submit" ng-click="regresar()"> Regresar</button> </div> </div> </div> </div> </div> </div> <div class="loading-wrap" ng-show="loading"> <img src="images/loading.aa305df2.gif" alt=""> </div>')}]);